import React, { useState } from 'react';

const CustomEmojiPicker = ({ onEmojiSelect, isOpen, onClose }) => {
  const [showPicker, setShowPicker] = useState(false);
  const [selectedCategory, setSelectedCategory] = useState('smileys');

  const categories = {
    smileys: [
      '😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '🥲', '🥹', '☺️', '😊', '😇', '🙂', '🙃', '😉',
      '😌', '😍', '🥰', '😘', '😗', '😙', '😚', '😋', '😛', '😝', '😜', '🤪', '🤨', '🧐', '🤓', '😎',
      '🥸', '🤩', '🥳', '😏', '😒', '😞', '😔', '😟', '😕', '🙁', '☹️', '😣', '😖', '😫', '😩', '🥺',
      '😢', '😭', '😮‍💨', '😤', '😠', '😡', '🤬', '🤯', '😳', '🥵', '🥶', '😱', '😨', '😰', '😥', '😓',
      '🫣', '🤗', '🫡', '🤔', '🫢', '🤭', '🤫', '🤥', '😶', '😶‍🌫️', '😐', '😑', '😬', '🫨', '🫠', '🙄',
      '😯', '😦', '😧', '😮', '😲', '🥱', '😴', '🫩', '🤤', '😪', '😵', '😵‍💫', '🫥', '🤐', '🥴', '🤢',
      '🤮', '🤧', '😷', '🤒', '🤕', '🤑', '🤠', '😈', '👿', '👹', '👺', '🤡', '💩', '👻', '💀', '☠️',
     ],
     Gestures: [
     '👋', '🤚', '🖐', '✋', '🖖', '👌', '🤌', '🤏', '✌️', '🤞', '🫰', '🤟',
     '🤘', '🤙', '🫵', '🫱', '🫲', '🫸', '🫷', '🫳', '🫴', '👈', '👉', '👆',
     '🖕', '👇', '☝️', '👍', '👎', '✊', '👊', '🤛', '🤜', '👏', '🫶', '🙌',
     '👐', '🤲', '🤝', '🙏', '✍️', '💅', '🤳', '💪', '🦾', '🦵', '🦿', '🦶',
     '👣', '🫆', '👂', '🦻', '👃', '🫀', '🫁', '🧠', '🦷', '🦴', '👀', '👁',
     '👅', '👄', '🫦', '💋', '🩸',
     ],
     Animals: [
       '🐶', '🐱', '🐭', '🐹', '🐰', '🦊', '🐻', '🐼', '🐻‍❄️', '🐨', '🐯', '🦁',
       '🐮', '🐷', '🐽', '🐸', '🐵', '🙈', '🙉', '🙊', '🐒', '🐔', '🐧', '🐦',
       '🐦‍⬛', '🐤', '🐣', '🐥', '🦆', '🦅', '🦉', '🦇', '🐺', '🐗', '🐴', '🦄',
       '🐝', '🪱', '🐛', '🦋', '🐌', '🐞', '🐜', '🪰', '🪲', '🪳', '🦟', '🦗',
       '🕷', '🕸', '🦂', '🐢', '🐍', '🦎', '🦖', '🦕', '🐙', '🦑', '🦐', '🦞',
       '🦀', '🪼', '🪸', '🐡', '🐠', '🐟', '🐬', '🐳', '🐋', '🦈', '🐊', '🐅',
       '🐆', '🦓', '🫏', '🦍', '🦧', '🦣', '🐘', '🦛', '🦏', '🐪', '🐫', '🦒',
     ],
     Foods: [
       '🍏', '🍎', '🍐', '🍊', '🍋', '🍋‍🟩', '🍌', '🍉', '🍇', '🍓', '🫐', '🍈', '🍒', '🍑', '🥭', '🍍',
       '🥥', '🥝', '🍅', '🍆', '🥑', '🥦', '🫛', '🥬', '🫜', '🥒', '🌶', '🫑', '🌽', '🥕', '🫒', '🧄',
       '🧅', '🫚', '🥔', '🍠', '🫘', '🥐', '🥯', '🍞', '🥖', '🥨', '🧀', '🥚', '🍳', '🧈', '🥞', '🧇',
       '🥓', '🥩', '🍗', '🍖', '🦴', '🌭', '🍔', '🍟', '🍕', '🫓', '🥪', '🥙', '🧆', '🌮', '🌯', '🫔',
       '🥗', '🥘', '🫕', '🥫', '🍝', '🍜', '🍲', '🍛', '🍣', '🍱', '🥟', '🦪', '🍤', '🍙', '🍚', '🍘',
       '🍥', '🥠', '🥮', '🍢', '🍡', '🍧', '🍨', '🍦', '🥧', '🧁', '🍰', '🎂', '🍮', '🍭', '🍬', '🍫',
       '🍿', '🍩', '🍪', '🌰', '🥜', '🍯', '🥛', '🍼', '🫖', '☕️', '🍵', '🧃', '🥤', '🧋', '🫙', '🍶',
     ],
     Nature: [
      '🪺', '🪵', '🌱', '🌿', '☘️', '🍀', '🎍', '🪴', '🎋', '🍃', '🍂', '🍁', '🍄', '🍄‍🟫', '🐚', '🪨',
      '🌾', '💐', '🌷', '🪷', '🌹', '🥀', '🌺', '🌸', '🪻', '🌼', '🌻', '🌞', '🌝', '🌛', '🌜', '🌚',
      '🌕', '🌖', '🌗', '🌘', '🌑', '🌒', '🌓', '🌔', '🌙', '🌎', '🌍', '🌏', '🪐', '💫', '⭐️', '🌟',
      '✨', '⚡️', '☄️', '💥', '🔥', '🌪', '🌈', '☀️', '🌤', '⛅️', '🌥', '☁️', '🌦', '🌧', '⛈', '🌩',
      '🌨', '❄️', '☃️', '⛄️', '🌬', '💨', '💧', '💦', '🫧', '☔️', '☂️', '🌊',
     ],
     People: [
       '🧛',  '🧟‍♀️', '🧟', '🧞‍♀️', '🧞', '🧞‍♂️', '🧜‍♀️', '🧜', '🧜‍♂️', '🧚‍♀️',
       '🧚', '🧚‍♂️', '🧌', '👼', '🤰', '🫄', '🫃', '🤱', '👩‍🍼', '🧑‍🍼', '👨‍🍼', '🙇‍♀️',
       '🙇', '🙇‍♂️', '💁‍♀️', '💁', '💁‍♂️', '🙅‍♀️', '🙅', '🙅‍♂️', '🙆‍♀️', '🙆', '🙆‍♂️', '🙋‍♀️',
       '🙋', '🙋‍♂️', '🧏‍♀️', '🧏', '🧏‍♂️', '🤦‍♀️', '🤦', '🤦‍♂️', '🤷‍♀️', '🤷', '🤷‍♂️', '🙎‍♀️',
       '🙎', '🙎‍♂️', '🙍‍♀️', '🙍', '🙍‍♂️', '💇‍♀️', '💇', '💇‍♂️', '💆‍♀️', '💆', '💆‍♂️', '🧖‍♀️',
       '🧖', '🧖‍♂️', '💃', '🕺', '👯‍♀️',
     ],
     Symbols: [
       '❤️', '🧡', '💛', '💚', '💙', '💜', '🖤', '🤍', '🤎', '💔',
       '❣️', '💕', '💞', '💓', '💗', '💖', '💘', '💝', '💟', '☮️',
       '✝️', '☪️', '🕉', '☸️', '✡️', '🔯', '🕎', '☯️', '♈️', '♉️',
       '♊️', '♋️', '♌️', '♍️', '♎️', '♏️', '♐️', '♑️', '♒️', '♓️',
       '❌', '⭕️', '🛑', '🚫', '💯', '⚠️', '✅', '♻️', '🔟', '™️',
       '©️', '®️', 'ℹ️', '➕', '➖', '✖️', '➗', '✔️', '☑️', '🔴',
       '🟠', '🟡', '🟢', '🔵', '🟣', '⚫️', '⚪️', '🟤', '🔺', '🔻',
     ],
     Travel: [
       '🚗', '🚕', '🚙', '🚌', '🚎', '🏎', '🚓', '🚑', '🚒', '🚐',
       '🛻', '🚚', '🚛', '🚜', '🛴', '🚲', '🛵', '🏍', '🛺', '🚨',
       '🚔', '🚍', '🚘', '🚖', '🛞', '🚡', '🚠', '🚟', '🚃', '🚋',
       '🚞', '🚝', '🚄', '🚅', '🚈', '🚂', '🚆', '🚇', '🚊', '🚉',
       '✈️', '🛫', '🛬', '🛩', '💺', '🛰', '🚀', '🛸', '🚁', '🛶',
     ],
  };

  const handleEmojiSelect = (emoji) => {
    onEmojiSelect(emoji);
    setShowPicker(false);
  };

  return (
    <div className="relative">
      <button
        onClick={() => setShowPicker(!showPicker)}
        className="p-2 rounded-lg hover:bg-gray-700 transition-colors text-2xl"
      >
        😊
      </button>

      {showPicker && (
        <div
          className="absolute bottom-full left-0 mb-2 bg-gray-800 rounded-lg shadow-lg w-96"
          style={{ 
            zIndex: 1000,
            width: '300px',
            maxHeight: '400px'
          }}
        >
          <div
            className="flex h-full"
          >
            {/* Sidebar */}
            <div className="w-24 border-r border-gray-700 overflow-y-auto">
              {Object.entries(categories).map(([category, emojis]) => (
                <button
                  key={category}
                  onClick={() => setSelectedCategory(category)}
                  className={`w-full p-2 text-center hover:bg-gray-700 transition-colors ${
                    selectedCategory === category
                      ? 'bg-gray-700 text-white'
                      : 'text-gray-400'
                  }`}
                  style={{
                    fontSize: '16px',
                    lineHeight: '1'
                  }}
                >
                  <span className="block text-center">
                    {emojis[0]}
                  </span>
                  <span className="block text-xs mt-1">
                    {category}
                  </span>
                </button>
              ))}
            </div>

            {/* Emoji Grid */}
            <div className="flex-1 overflow-y-auto p-2">
              <div className="grid grid-cols-7 gap-1 p-2">
                {categories[selectedCategory].map((emoji, index) => (
                  <button
                    key={index}
                    onClick={() => handleEmojiSelect(emoji)}
                    className="p-2 hover:bg-gray-700 rounded-lg transition-colors flex items-center justify-center"
                    style={{
                      width: '40px',
                      height: '40px',
                      fontSize: '20px',
                      lineHeight: '1'
                    }}
                  >
                    <span className="block text-center">
                      {emoji}
                    </span>
                  </button>
                ))}
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default CustomEmojiPicker;
